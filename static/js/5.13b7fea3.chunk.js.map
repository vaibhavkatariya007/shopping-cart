{"version":3,"sources":["redux/modules/selectors.js","redux/modules/actions.js","redux/index.js","containers/ProductList.js"],"names":["getProductList","state","products","getCartProducts","cart","updateSortBy","sortby","type","TYPES","payload","addProductToCart","product","deleteProductFromCart","productId","deleteQty","Content","Layout","Sider","withRouter","connect","productList","history","sortBy","count","useState","filterVisible","setFilterVisible","sortVisible","setSortVisible","filter","setFilter","SearchedData","setSearchedData","onSortVisible","onFilterVisible","onAddProduct","ProductData","filterOnData","length","_","orderBy","e","price","actual","discount","data","className","searchProduct","keyword","name","toLowerCase","includes","goToCart","push","width","appliedvalue","onApplyFilter","value","onSortby","gutter","xs","sm","onClick","map","productData","key"],"mappings":"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","file":"static/js/5.13b7fea3.chunk.js","sourcesContent":["export const getProductList = state => state.products;\r\nexport const getCartProducts = state => state.cart;\r\n","import * as TYPES from './constants';\r\n\r\nexport const updateSortBy = sortby => ({\r\n  type: TYPES.UPDATE_SORT_BY,\r\n  payload: sortby,\r\n});\r\n\r\nexport const addProductToCart = product => ({\r\n  type: TYPES.ADD_PRODUCT_TO_CART,\r\n  payload: product,\r\n});\r\n\r\nexport const deleteProductFromCart = (productId, deleteQty) => ({\r\n  type: TYPES.DELETE_PRODUCT_FROM_CART,\r\n  payload: {productId, deleteQty},\r\n});\r\n","import {\r\n  getProductList,\r\n  getCartProducts,\r\n  addProductToCart,\r\n  deleteProductFromCart,\r\n  updateSortBy,\r\n} from './modules';\r\nexport {\r\n  getProductList,\r\n  getCartProducts,\r\n  addProductToCart,\r\n  deleteProductFromCart,\r\n  updateSortBy,\r\n};\r\n","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router-dom';\nimport {Layout, Row, Col, Icon, Modal} from 'antd';\nimport _ from 'lodash';\n\nimport {HeaderContainer, Footer, Product, SortBy, Filters} from '../core';\n\nimport {\n  getProductList,\n  getCartProducts,\n  addProductToCart,\n  updateSortBy,\n} from '../redux';\n\nconst {Content, Sider} = Layout;\n\nconst ProductList = ({\n  history,\n  productList: {products, sortBy},\n  cart: {count},\n  addProductToCart,\n  updateSortBy,\n}) => {\n  const [filterVisible, setFilterVisible] = useState(false);\n  const [sortVisible, setSortVisible] = useState(false);\n  const [filter, setFilter] = useState(null);\n  const [SearchedData, setSearchedData] = useState(null);\n  const goToCart = () => history.push('/cart');\n\n  const onSortVisible = () => {\n    setSortVisible(!sortVisible);\n  };\n  const onFilterVisible = () => {\n    setFilterVisible(!filterVisible);\n  };\n\n  const onApplyFilter = value => {\n    setFilter(value);\n  };\n\n  const onSortby = value => {\n    updateSortBy(value);\n  };\n\n  const onAddProduct = product => {\n    addProductToCart(product);\n  };\n\n  let ProductData = [];\n\n  const filterOnData = SearchedData || products;\n\n  if (sortBy == 'highToLow') {\n    ProductData =\n      filterOnData &&\n      filterOnData.length > 0 &&\n      _.orderBy(\n        filterOnData,\n        function(e) {\n          return e.price.actual;\n        },\n        ['desc']\n      );\n  } else if (sortBy == 'lowToHigh') {\n    ProductData =\n      filterOnData &&\n      filterOnData.length > 0 &&\n      _.orderBy(\n        filterOnData,\n        function(e) {\n          return e.price.actual;\n        },\n        ['asc']\n      );\n  } else if (sortBy == 'discount') {\n    ProductData =\n      filterOnData &&\n      filterOnData.length > 0 &&\n      _.orderBy(\n        filterOnData,\n        function(e) {\n          return e.discount;\n        },\n        ['desc']\n      );\n  }\n\n  if (filter && filter > 1000) {\n    ProductData =\n      ProductData &&\n      ProductData.length &&\n      ProductData.filter(product => {\n        if (product.price.actual <= filter) {\n          return product;\n        }\n      });\n  }\n\n  const searchProduct = keyword => {\n    const SearchedData =\n      products &&\n      products.filter(product => {\n        if (product.name.toLowerCase().includes(keyword.toLowerCase())) {\n          return product;\n        }\n      });\n    setSearchedData(SearchedData);\n  };\n\n  const data = ProductData;\n  return (\n    <Layout className=\"product-listing\">\n      <HeaderContainer\n        history={history}\n        searchProduct={searchProduct}\n        goToCart={goToCart}\n        count={count}\n      />\n      <Layout>\n        <Sider width={300}>\n          <Filters\n            filterVisible={filterVisible}\n            onFilterVisible={onFilterVisible}\n            appliedvalue={filter}\n            onApplyFilter={onApplyFilter}\n          />\n        </Sider>\n        <Content>\n          <SortBy\n            sortVisible={sortVisible}\n            onSortVisible={onSortVisible}\n            onSortby={onSortby}\n            sortBy={sortBy}\n          />\n          <Row gutter={16}>\n            <Col\n              className=\"mobile-view\"\n              xs={12}\n              sm={12}\n              onClick={onSortVisible}>\n              <Icon type=\"swap\" />\n              <span className=\"label\"> Sort</span>\n            </Col>\n            <Col\n              className=\"mobile-view\"\n              xs={12}\n              sm={12}\n              onClick={onFilterVisible}>\n              <Icon type=\"filter\" />\n              <span className=\"label\"> Filter</span>\n            </Col>\n            {data.length ? (\n              data.map(productData => (\n                <Product\n                  key={productData.productId}\n                  data={productData}\n                  onAddProduct={onAddProduct}\n                />\n              ))\n            ) : (\n              <div className=\"no-product-found\"> No Product Found</div>\n            )}\n          </Row>\n        </Content>\n      </Layout>\n      <Footer />\n    </Layout>\n  );\n};\n\nconst mapStateToProps = state => ({\n  productList: getProductList(state),\n  cart: getCartProducts(state),\n});\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    {addProductToCart, updateSortBy}\n  )(ProductList)\n);\n"],"sourceRoot":""}